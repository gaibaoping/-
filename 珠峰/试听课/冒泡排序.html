<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>冒泡排序</title>
</head>
<body>

</body>
</html>
<script>
    var ary=[5,1,3,2,4];
    //1 5 3 2 4
    //1 3 5 2 4
    //1 3 2 5 4
    //1 3 2 4 5  经过四次比较把5这个最大值放到了末尾
    //每一轮比较都会把这一轮的最大值放到末尾，如果把ary.length-1个最大值放到了末尾那么就完成了排序
    //1 4 3 2 5
    //1 3 4 2 5
    //1 3 2 4 5  经过三次比较把5这个最大值放到了末尾
    //
    var flag=false;//用来记录上一轮循环是否有位置交换，如果上一轮有位置交换
    for(var i=0; i<ary.length-1;i++){//比较length-1轮就可以，把length-1个最大值放到末尾就完成了排序
        //i=0  4次   length-1-i
        //i=1  3次   length-1-i
        //i=2  2次   length-1-i
        //i=3  1次   length-1-i
        for(var j=0;j<ary.length-1-i;j++) {//每轮比较的次数
            if (ary[j] > ary[j + 1]) {//只要这个条件成立说明有位置交换
                flag = true;
                var temp = ary[j + 1];
                ary[j + 1] = ary[j];
                ary[j] = temp;
            }
        }
        if(flag){//只要这个条件成立说明刚刚结束的这一轮两两比较是有位置交换的}
            flag=false;
        }else{//说明没有位置交换说明排序已经排好，循环就可以停止了
            break;
            }
        }
    console.log(ary);
</script>